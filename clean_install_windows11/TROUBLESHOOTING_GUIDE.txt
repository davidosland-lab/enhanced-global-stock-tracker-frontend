STOCK TRACKER - TROUBLESHOOTING GUIDE
=====================================

ISSUE: "Backend Status: Disconnected" with 404 error on /api/health
--------------------------------------------------------------------
CAUSE: The backend.py was missing the /api/health endpoint
SOLUTION: 
  1. The backend.py has been updated with the health endpoint
  2. Restart the backend service using RESTART_BACKEND_WITH_HEALTH.bat
  3. Or restart all services using START_ALL_SERVICES_FIXED.bat

ISSUE: ML Backend Status showing "Disconnected"
------------------------------------------------
CAUSE: Wrong ML backend file or missing endpoints
SOLUTION:
  1. Use ml_backend_fixed.py (NOT ml_backend.py)
  2. This file has both /health and /api/ml/status endpoints
  3. Restart using START_ALL_SERVICES_FIXED.bat

ISSUE: Trained models don't appear in Prediction Centre dropdown
-----------------------------------------------------------------
CAUSE: The loadTrainedModels() function wasn't updating the dropdown
SOLUTION:
  1. ml_training_centre.html has been fixed
  2. Both the visual list AND dropdown are now updated
  3. Clear browser cache and reload the module

ISSUE: Module links returning 404 errors
-----------------------------------------
CAUSE: Incorrect file paths or missing modules
SOLUTION:
  1. All modules are in the /modules/ subdirectory
  2. Links have been fixed to point to correct paths
  3. Use index.html as the main entry point

ISSUE: CBA.AX showing incorrect price (~$100 instead of ~$170)
---------------------------------------------------------------
CAUSE: Using fallback/synthetic data instead of real Yahoo Finance data
SOLUTION:
  1. backend.py now uses ONLY real Yahoo Finance data
  2. No fallback, demo, or synthetic data is used
  3. Prices are fetched live from yfinance API

ISSUE: Document upload limit too small (10MB)
----------------------------------------------
CAUSE: Default FastAPI upload limit
SOLUTION:
  1. Use document_uploader_100mb.html module
  2. Backend configured to accept up to 100MB files
  3. Check Windows temp folder permissions if issues persist

TESTING THE FIX:
----------------
1. Run TEST_HEALTH_ENDPOINT.bat to verify the health endpoint
2. Open browser console (F12) and check for any 404 errors
3. The backend status should show "Connected" in green
4. Test URL directly: http://localhost:8002/api/health

COMPLETE RESTART PROCEDURE:
---------------------------
1. Close all command prompt windows
2. Run START_ALL_SERVICES_FIXED.bat
3. Wait for all services to start (about 10 seconds)
4. Open http://localhost:8000 in browser
5. Check all status indicators are green

PORT REFERENCE:
--------------
- Frontend Server: 8000
- Backend API: 8002
- ML Backend: 8003

API ENDPOINTS:
-------------
Backend (Port 8002):
  /api/health - Health check
  /api/stock/{symbol} - Get stock data
  /api/historical/{symbol} - Historical data
  /api/indices - Market indices
  /api/market-movers - Top movers
  
ML Backend (Port 8003):
  /health - ML health check
  /api/ml/status - ML service status
  /api/ml/train - Train models
  /api/ml/models - List models
  /api/ml/predict - Make predictions