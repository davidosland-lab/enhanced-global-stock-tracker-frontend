<!DOCTYPE html>
<html>
<head>
    <title>TradingView Lightweight Charts Test</title>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <h1>Professional Financial Chart</h1>
    <div id="chart" style="width: 100%; height: 500px;"></div>
    
    <script>
        // Create chart
        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
            width: window.innerWidth - 50,
            height: 500,
            layout: {
                backgroundColor: '#ffffff',
                textColor: '#333',
            },
            grid: {
                vertLines: { color: '#e0e0e0' },
                horzLines: { color: '#e0e0e0' },
            },
            crosshair: {
                mode: LightweightCharts.CrosshairMode.Normal,
            },
            priceScale: {
                borderColor: '#cccccc',
            },
            timeScale: {
                borderColor: '#cccccc',
                timeVisible: true,
                secondsVisible: false,
            },
        });
        
        // Create candlestick series
        const candleSeries = chart.addCandlestickSeries({
            upColor: '#26a69a',
            downColor: '#ef5350',
            borderVisible: false,
            wickUpColor: '#26a69a',
            wickDownColor: '#ef5350',
        });
        
        // Sample data
        const data = [
            { time: '2024-01-01', open: 100, high: 105, low: 98, close: 103 },
            { time: '2024-01-02', open: 103, high: 107, low: 102, close: 105 },
            { time: '2024-01-03', open: 105, high: 106, low: 101, close: 102 },
            { time: '2024-01-04', open: 102, high: 108, low: 101, close: 107 },
            { time: '2024-01-05', open: 107, high: 110, low: 106, close: 109 },
        ];
        
        candleSeries.setData(data);
        
        // Add volume
        const volumeSeries = chart.addHistogramSeries({
            color: '#26a69a',
            priceFormat: {
                type: 'volume',
            },
            priceScaleId: '',
            scaleMargins: {
                top: 0.8,
                bottom: 0,
            },
        });
        
        volumeSeries.setData([
            { time: '2024-01-01', value: 1000000 },
            { time: '2024-01-02', value: 1200000 },
            { time: '2024-01-03', value: 900000 },
            { time: '2024-01-04', value: 1500000 },
            { time: '2024-01-05', value: 1100000 },
        ]);
        
        // Fit content
        chart.timeScale().fitContent();
        
        // Handle resize
        window.addEventListener('resize', () => {
            chart.applyOptions({ width: window.innerWidth - 50 });
        });
    </script>
</body>
</html>
