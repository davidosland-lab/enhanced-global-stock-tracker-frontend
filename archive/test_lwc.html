<!DOCTYPE html>
<html>
<head>
    <title>LWC Test</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <h1>Lightweight Charts Test</h1>
    <div id="chart" style="width: 800px; height: 400px;"></div>
    <script>
        // Wait for page load
        window.onload = function() {
            console.log('Page loaded');
            console.log('LightweightCharts available:', typeof LightweightCharts !== 'undefined');
            
            if (typeof LightweightCharts !== 'undefined') {
                console.log('Creating chart...');
                const chart = LightweightCharts.createChart(document.getElementById('chart'), {
                    width: 800,
                    height: 400,
                });
                
                console.log('Chart created:', chart);
                console.log('Available methods:', Object.getOwnPropertyNames(Object.getPrototypeOf(chart)));
                
                // Try to add candlestick series
                try {
                    const candlestickSeries = chart.addCandlestickSeries();
                    console.log('Candlestick series added successfully');
                    
                    candlestickSeries.setData([
                        { time: '2024-01-01', open: 100, high: 105, low: 98, close: 103 },
                        { time: '2024-01-02', open: 103, high: 108, low: 102, close: 107 },
                    ]);
                    
                    console.log('Data set successfully');
                } catch (error) {
                    console.error('Error adding candlestick series:', error);
                }
            }
        };
    </script>
</body>
</html>